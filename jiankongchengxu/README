# -- coding: utf-8 --
》》》》》》》》》》》》》》》》》》》》》》》》》》》》
需要解决的问题：
    1.多界面切换,应该不难，只是没试过
    2.有一个上位机轮流询问下位机的线程，是一个循环
》》》》》》》》》》》》》》》》》》》》》》》》》》》》
线程架构:
1.通信监听层
2.通信协议层
3.数据解析层
4.数据存储层
5.图形界面层
6.数据刷新层
7.图形绘制层
8.数据监控层
》》》》》》》》》》》》》》》》》》》》》》》》》》》》
数据链路：
1.各层的一些参数需要通过GUI设定
》》》》》》》》》》》》》》》》》》》》》》》》》》》》

1.通信监听层


》》》》》》》》》》》》》》》》》》》》》》》》》》》》

第一版编写思路:
    1.首先实现“极简版”。
        此版本实现：
                    单一通信协议
                    上位机发送读写请求
                    接收返回数据
                    处理返回数据并更新至GUI
        GUI实现接口：
                    串口参数设定
                    报警条件设定界面
                    Modbus协议参数设定
                    读取参数设定
                    写入参数设定
        目的：
                    进行一些技术验证
                    
》》》》》》》》》》》》》》》》》》》》》》》》》》》》
类抽象：
        
》》》》》》》》》》》》》》》》》》》》》》》》》》》》
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
显示机制:

    设监控主界面，仅显示所有需要监控实时信息。
        高级：1.显示曲线图
              2.交替显示曲线图，或者多曲线同时显示
              3.调取一定时间内的曲线图
              4.根据设定的x,y变量绘制曲线图
    设报警主界面，显示报警信息，同时触发声音事件
        高级：1.……
    如果信息路数过多，可以轮替显示，但对数据实施后台不间断监控，有异常触发报警

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
后台数据分析监控线程:

    对数据实时监控分析，异常报警
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
后台数据记录线程:

    实时记录传感器数据，分析监控结果和程序的各种状态


>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
通信协议层：

    开始条件:
    开始之前，刷新接受缓冲区
    受到干扰，重新检测开始条件？
    采用主从模式，是否发送完成立即接受呢？
    (一直检测不到空闲)
    等待响应的时间:
    (超出则视为超时)
    响应错误的记录和处理
    实现用户终止读操作或者写操作
    flushInput(),flushOutput()吗？
    serial.write(file.read().encode('utf-8'))
    aaaaaaaaaaaaaaaa
    两种通信协议会不会相互干扰？如用AI协议发的，moDBus是否会误响应？
    aaaaaaaaaaaaaaaaaaaaaaaaaa
    ***Pyserial***
    ***研究他，不断写小的测试，就吃透了***
    inter_byte_timeout,这个是读，还是写的时候字节间的超时呢？
    read_until,read until 结束符，超过预设值，超时
    rs485_mode  see serial.rs485.RS485Settings
    for more info about the value

》》》》》》》》》》》》》》》》》》》》》》》》》》》》
